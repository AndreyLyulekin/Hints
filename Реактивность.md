● ● ● Через Object.defineProperty
//  
//  
//

  <div id="app">
    <p>Счётчик: <span id="count"></span></p>
    <button id="inc">+</button>
  </div>

  <script>
    // --- Реактивность ---
    function reactive(obj, callback) {
      const reactiveObj = {};

      Object.keys(obj).forEach(key => {
        let value = obj[key];

        Object.defineProperty(reactiveObj, key, {
          get() {
            return value;
          },
          set(newValue) {
            if (value !== newValue) {
              value = newValue;
              callback(key, newValue);
            }
          }
        });
      });

      return reactiveObj;
    }

    // --- Используем ---
    const countEl = document.getElementById('count');
    const btn = document.getElementById('inc');

    const state = reactive({ count: 0 }, () => {
      countEl.textContent = state.count;
    });

    // Первичная отрисовка
    countEl.textContent = state.count;

    btn.addEventListener('click', () => state.count++);
  </script>

//  
//  
//
● ● ● Через Proxy
//  
//  
//

 <div id="app">
    <p>Счётчик: <span id="count"></span></p>
    <button id="inc">+</button>
  </div>

  <script>
    // --- Реактивность через Proxy ---
    function reactive(obj, callback) {
      return new Proxy(obj, {
        get(target, prop) {
          return target[prop];
        },
        set(target, prop, value) {
          if (target[prop] !== value) {
            target[prop] = value;
            callback(prop, value);
          }
          return true;
        }
      });
    }

    // --- Используем ---
    const countEl = document.getElementById('count');
    const btn = document.getElementById('inc');

    const state = reactive({ count: 0 }, () => {
      countEl.textContent = state.count;
    });

    countEl.textContent = state.count;

    btn.addEventListener('click', () => state.count++);
  </script>
